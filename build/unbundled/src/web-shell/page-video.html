<html><head><link href="../dlx-video/dlx-video.html" rel="import">



</head><body><dom-module id="page-video">

    <template>

        <style include="dlx-common-styles dlx-button dlx-select">:host{display:block;--dlx-video-height:calc(100vw / 1.78);}.backdrop{@apply (--layout-fit);position:fixed;top:64px;z-index:-9999;}.backdrop iron-image{@apply (--layout-fit);z-index:-9999;}.backdrop .screen{position:absolute;top:0;right:0;bottom:0;left:0;z-index:-9999;background:rgba(0, 0, 0, 0.5);}#content{@apply (--layout-vertical);@apply (--layout-center-justified);}.page-video{}.page-video-container{position:relative;}.page-video-player{width:100%;height:302px;}dlx-blockFFF::before{content:"";display:block;padding-top:100%;}.detail{padding:24px;transition:opacity 0.4s;opacity:0;}.detail[has-content]{opacity:1;}.detail[backdrop]{background:white;}.detail .meta-container{@apply (--layout-vertical);position:relative;margin-bottom:24px;}.detail .meta-data{width:calc(100% - 116px);}.detail .meta-image{height:108px;width:108px;position:absolute;top:0;right:0;}.meta-title{@apply (--paper-font-subhead);font-size:24px;font-weight:500;line-height:28px;margin:0;}.price{margin:16px 0 40px;font-size:16px;color:var(--app-secondary-color);}.meta-header{@apply (--paper-font-body1);margin:0;color:var(--app-secondary-color);}.meta-text{@apply (--paper-font-caption);margin:0;color:var(--app-secondary-color);}.description{margin:0 0 32px 0;}.description> h4{margin:0 0 12px 0;}.description> p{margin:0;color:var(--app-secondary-color);}.pickers{@apply (--layout-vertical);border-top:1px solid #ccc;}dlx-select> select{font-size:16px;padding:16px 24px 16px 70px;}@media (max-width: 767px){#content{@apply (--layout-vertical);@apply (--layout-center);}.page-video-container{margin:0;width:100%;position:fixed;top:64px;z-index:1;}.page-video-player{height:var(--dlx-video-height);}#content{margin-top:var(--dlx-video-height);}.detail{box-sizing:border-box;width:100%;max-width:600px;}.detail .meta-container{@apply (--layout-horizontal);position:relative;}.detail .meta-image{height:108px;width:108px;position:absolute;top:0;right:0;}h1{font-size:20px;line-height:24px;}}</style>

        
        <app-route route="[[route]]" pattern="/:link" data="{{routeDataDetail}}"></app-route>

        
        
        <template is="dom-if" if="{{item.backdrop_path}}" restamp="true">
            <div class="backdrop" hidden$="[[!item.backdrop_path]]">
                <iron-image alt="[[item.title]]" sizing="cover" preload="" fade="" src="[[item.backdrop_path]]"></iron-image>
                <div class="screen"></div>
            </div>
        </template>

        <div id="content" hidden$="[[failure]]">
            

            <div class="page-video-container">

                
                <dlx-video class="page-video-player" link="[[link]]" autoplay="" item="{{item}}"></dlx-video>

            </div>


            <div class="detail" has-content$="[[_isDefined(item)]]" backdrop$="[[item.backdrop_path]]">

                <div class="meta-container">
                    <div class="meta-data">
                        <h1>[[item.title]]</h1>
                        <div class="meta-header" hidden="[[!item.meta.header]]">[[item.meta.header]]</div>
                        <div class="meta-text">[[item.meta.text]]</div>
                    </div>
                    <div class="meta-image">
                        <dlx-block alt="[[item.meta]] [[item.title]]" src="[[item.poster_path]]"></dlx-block>
                    </div>
                </div>


                <div class="pickers" hidden="">
                    <dlx-select>
                        <label id="sizeLabel" prefix="">Size</label>
                        <select id="sizeSelect" aria-labelledby="sizeLabel">
                            <option value="XS">XS</option>
                            <option value="S">S</option>
                            <option value="M" selected="">M</option>
                            <option value="L">L</option>
                            <option value="XL">XL</option>
                        </select>
                        <dlx-md-decorator aria-hidden="true">
                            <dlx-underline></dlx-underline>
                        </dlx-md-decorator>
                    </dlx-select>
                    <dlx-select>
                        <label id="quantityLabel" prefix="">Quantity</label>
                        <select id="quantitySelect" aria-labelledby="quantityLabel">
                            <option value="1" selected="">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                        </select>
                        <dlx-md-decorator aria-hidden="true">
                            <dlx-underline></dlx-underline>
                        </dlx-md-decorator>
                    </dlx-select>
                </div>


                <div class="description" hidden$="[[!item.description]]">
                    <h4>Description</h4>
                    <p id="desc">{{item.description}}</p>
                </div>



                
            </div>
        </div>

        
        <dlx-network-warning hidden$="[[!failure]]" offline="[[offline]]" on-try-reconnect="_tryReconnect"></dlx-network-warning>

    </template>

    <script>Polymer({is:"page-video",properties:{item:Object,route:Object,routeDataDetail:Object,visible:Boolean,offline:{type:Boolean,observer:"_offlineChanged"},youtubeId:{type:String,notify:!0},link:{type:String,notify:!0},failure:{type:Boolean,notify:!0,value:!1}},observers:["_link(routeDataDetail)","_itemChanged(item, visible)"],_itemChanged:function(e,t){t&&e&&this.debounce("item-change",function(){var t=this.item?this.item.description:"";this.$.desc.innerHTML=this._unescapeText(t),this.fire("change-section",{title:e.title})})},_link:function(e){e.link&&this.set("link",e.link)},_youtube:function(e,t,i){"/video"!==t.prefix},_unescapeText:function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.textContent},_formatPrice:function(e){return e?"$"+e.toFixed(2):""},_addToCart:function(){console.log(this.$.quantitySelect),this.fire("add-cart-item",{item:this.item,quantity:parseInt(this.$.quantitySelect.value,10),size:this.$.sizeSelect.value})},_isDefined:function(e){return null!=e},_tryReconnect:function(){console.log(offline)},_offlineChanged:function(e){console.log(e),e?this.failure=!0:this.failure=!1}});</script>

</dom-module>
</body></html>