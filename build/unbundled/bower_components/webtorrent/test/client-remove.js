var fixtures=require("webtorrent-fixtures"),test=require("tape"),WebTorrent=require("../");test("client.remove: remove by Torrent object",function(e){e.plan(5);var r=new WebTorrent({dht:!1,tracker:!1});r.on("error",function(r){e.fail(r)}),r.on("warning",function(r){e.fail(r)});var t=r.add(fixtures.leaves.parsedTorrent.infoHash);e.equal(r.torrents.length,1),t.on("infoHash",function(){e.equal(t.infoHash,fixtures.leaves.parsedTorrent.infoHash),r.remove(t,function(r){e.error(r,"torrent destroyed")}),e.equal(r.torrents.length,0),r.destroy(function(r){e.error(r,"client destroyed")})})});