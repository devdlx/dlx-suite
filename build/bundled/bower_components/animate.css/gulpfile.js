function activateAnimations(){var e,a,t=JSON.parse(fs.readFileSync("animate-config.json")),r=["source/_base.css"],s=0;for(e in t)if(t.hasOwnProperty(e)){a=t[e];for(var n=0;n<a.length;++n)r.push("source/"+e+"/"+a[n]+".css"),s+=1}return s?gutil.log(s+(s>1?" animations":" animation")+" activated."):gutil.log("No animations activated."),r}var autoprefixer=require("autoprefixer"),cssnano=require("cssnano"),fs=require("fs"),gulp=require("gulp"),concat=require("gulp-concat"),gutil=require("gulp-util"),header=require("gulp-header"),postcss=require("gulp-postcss"),rename=require("gulp-rename"),runSequence=require("run-sequence"),pkg=JSON.parse(fs.readFileSync("package.json")),activatedAnimations=activateAnimations(),opts={destPath:"./",concatName:"animate.css",autoprefixer:{browsers:["last 2 versions"],cascade:!1},minRename:{suffix:".min"},banner:['@charset "UTF-8";\n',"/*!"," * <%= name %> -<%= homepage %>"," * Version - <%= version %>"," * Licensed under the MIT license - http://opensource.org/licenses/MIT"," *"," * Copyright (c) <%= new Date().getFullYear() %> <%= author.name %>"," */\n\n"].join("\n")};gulp.task("default",function(){runSequence("createCSS","addHeader")}),gulp.task("createCSS",function(){return gulp.src(activatedAnimations).pipe(concat(opts.concatName)).pipe(postcss([autoprefixer(opts.autoprefixer)])).pipe(gulp.dest(opts.destPath)).pipe(postcss([autoprefixer(opts.autoprefixer),cssnano({reduceIdents:{keyframes:!1}})])).pipe(rename(opts.minRename)).pipe(gulp.dest(opts.destPath))}),gulp.task("addHeader",function(){return gulp.src("*.css").pipe(header(opts.banner,pkg)).pipe(gulp.dest(opts.destPath))});